!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).australiaAddressParser=e()}}(function(){return function o(i,s,l){function u(n,e){if(!s[n]){if(!i[n]){var r="function"==typeof require&&require;if(!e&&r)return r(n,!0);if(c)return c(n,!0);var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}var a=s[n]={exports:{}};i[n][0].call(a.exports,function(e){return u(i[n][1][e]||e)},a,a.exports,o,i,s,l)}return s[n].exports}for(var c="function"==typeof require&&require,e=0;e<l.length;e++)u(l[e]);return u}({1:[function(e,n,r){"use strict";var f="xregexp",t={astral:!1,natives:!1},g={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},u={},a={},d={},c=[],h="default",x="class",y={default:/\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|\(\?(?:[:=!]|<[=!])|[?*+]\?|{\d+(?:,\d*)?}\??|[\s\S]/,class:/\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|[\s\S]/},i=/\$(?:{([\w$]+)}|(\d\d?|[\s\S]))/g,s=void 0===g.exec.call(/()??/,"")[1],p=void 0!==/x/.flags,o={}.toString;function l(e){var n=!0;try{new RegExp("",e)}catch(e){n=!1}return n}var m=l("u"),v=l("y"),w={g:!0,i:!0,m:!0,u:m,y:v};function b(e,n,r,t,a){var o;if(e[f]={captureNames:n},a)return e;if(e.__proto__)e.__proto__=O.prototype;else for(o in O.prototype)e[o]=O.prototype[o];return e[f].source=r,e[f].flags=t?t.split("").sort().join(""):t,e}function N(e){return g.replace.call(e,/([\s\S])(?=[\s\S]*\1)/g,"")}function C(e,n){if(!O.isRegExp(e))throw new TypeError("Type RegExp expected");var r,t,a=e[f]||{},o=(r=e,p?r.flags:g.exec.call(/\/([a-z]*)$/i,RegExp.prototype.toString.call(r))[1]),i="",s="",l=null,u=null;return(n=n||{}).removeG&&(s+="g"),n.removeY&&(s+="y"),s&&(o=g.replace.call(o,new RegExp("["+s+"]+","g"),"")),n.addG&&(i+="g"),n.addY&&(i+="y"),i&&(o=N(o+i)),n.isInternalOnly||(void 0!==a.source&&(l=a.source),null!=a.flags&&(u=i?N(a.flags+i):a.flags)),e=b(new RegExp(n.source||e.source,o),(t=e)[f]&&t[f].captureNames?a.captureNames.slice(0):null,l,u,n.isInternalOnly)}function E(e){return parseInt(e,16)}function S(e,n,r){return"("===e.input.charAt(e.index-1)||")"===e.input.charAt(e.index+e[0].length)||(t=e.input,a=e.index+e[0].length,o="[?*+]|{\\d+(?:,\\d*)?}",i="\\(\\?#[^)]*\\)",s=-1<r.indexOf("x")?["\\s","#[^#\\n]*",i]:[i],g.test.call(new RegExp("^(?:"+s.join("|")+")*(?:"+o+")"),t.slice(a)))?"":"(?:)";var t,a,o,i,s}function T(e){return parseInt(e,10).toString(16)}function R(e,n){var r,t=e.length;for(r=0;r<t;++r)if(e[r]===n)return r;return-1}function _(e,n){return o.call(e)==="[object "+n+"]"}function A(e){for(;e.length<4;)e="0"+e;return e}function W(e){var n={};return _(e,"String")?(O.forEach(e,/[^\s,]+/,function(e){n[e]=!0}),n):e}function I(e){if(!/^[\w$]$/.test(e))throw new Error("Flag must be a single character A-Za-z0-9_$");w[e]=!0}function k(e,n,r,t,a){for(var o,i,s=c.length,l=e.charAt(r),u=null;s--;)if(!((i=c[s]).leadChar&&i.leadChar!==l||i.scope!==t&&"all"!==i.scope||i.flag&&-1===n.indexOf(i.flag))&&(o=O.exec(e,i.regex,r,"sticky"))){u={matchLength:o[0].length,output:i.handler.call(a,o,t,n),reparse:i.reparse};break}return u}function G(e){t.astral=e}function F(e){RegExp.prototype.exec=(e?u:g).exec,RegExp.prototype.test=(e?u:g).test,String.prototype.match=(e?u:g).match,String.prototype.replace=(e?u:g).replace,String.prototype.split=(e?u:g).split,t.natives=e}function L(e){if(null==e)throw new TypeError("Cannot convert null or undefined to object");return e}function O(e,n){if(O.isRegExp(e)){if(void 0!==n)throw new TypeError("Cannot supply flags when copying a RegExp");return C(e)}if(e=void 0===e?"":String(e),n=void 0===n?"":String(n),O.isInstalled("astral")&&-1===n.indexOf("A")&&(n+="A"),d[e]||(d[e]={}),!d[e][n]){for(var r,t={hasNamedCapture:!1,captureNames:[]},a=h,o="",i=0,s=function(e,r){var n;if(N(r)!==r)throw new SyntaxError("Invalid duplicate regex flag "+r);for(e=g.replace.call(e,/^\(\?([\w$]+)\)/,function(e,n){if(g.test.call(/[gy]/,n))throw new SyntaxError("Cannot use flag g or y in mode modifier "+e);return r=N(r+n),""}),n=0;n<r.length;++n)if(!w[r.charAt(n)])throw new SyntaxError("Unknown regex flag "+r.charAt(n));return{pattern:e,flags:r}}(e,n),l=s.pattern,u=s.flags;i<l.length;){for(;(r=k(l,u,i,a,t))&&r.reparse&&(l=l.slice(0,i)+r.output+l.slice(i+r.matchLength)),r&&r.reparse;);if(r)o+=r.output,i+=r.matchLength||1;else{var c=O.exec(l,y[a],i,"sticky")[0];o+=c,i+=c.length,"["===c&&a===h?a=x:"]"===c&&a===x&&(a=h)}}d[e][n]={pattern:g.replace.call(o,/(?:\(\?:\))+/g,"(?:)"),flags:g.replace.call(u,/[^gimuy]+/g,""),captures:t.hasNamedCapture?t.captureNames:null}}var p=d[e][n];return b(new RegExp(p.pattern,p.flags),p.captures,e,n)}O.prototype=new RegExp,O.version="3.2.0",O._clipDuplicates=N,O._hasNativeFlag=l,O._dec=E,O._hex=T,O._pad4=A,O.addToken=function(e,n,r){var t,a=(r=r||{}).optionalFlags;if(r.flag&&I(r.flag),a)for(a=g.split.call(a,""),t=0;t<a.length;++t)I(a[t]);c.push({regex:C(e,{addG:!0,addY:v,isInternalOnly:!0}),handler:n,scope:r.scope||h,flag:r.flag,reparse:r.reparse,leadChar:r.leadChar}),O.cache.flush("patterns")},(O.cache=function(e,n){return a[e]||(a[e]={}),a[e][n]||(a[e][n]=O(e,n))}).flush=function(e){"patterns"===e?d={}:a={}},O.escape=function(e){return g.replace.call(L(e),/[-\[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},O.exec=function(e,n,r,t){var a,o,i,s="g",l=!1;return(a=v&&!!(t||n.sticky&&!1!==t))?s+="y":t&&(l=!0,s+="FakeY"),n[f]=n[f]||{},r=r||0,(i=n[f][s]||(n[f][s]=C(n,{addG:!0,addY:a,source:l?n.source+"|()":void 0,removeY:!1===t,isInternalOnly:!0}))).lastIndex=r,o=u.exec.call(i,e),l&&o&&""===o.pop()&&(o=null),n.global&&(n.lastIndex=o?i.lastIndex:0),o},O.forEach=function(e,n,r){for(var t,a=0,o=-1;t=O.exec(e,n,a);)r(t,++o,e,n),a=t.index+(t[0].length||1)},O.globalize=function(e){return C(e,{addG:!0})},O.install=function(e){e=W(e),!t.astral&&e.astral&&G(!0),!t.natives&&e.natives&&F(!0)},O.isInstalled=function(e){return!!t[e]},O.isRegExp=function(e){return"[object RegExp]"===o.call(e)},O.match=function(e,n,r){var t,a,o=n.global&&"one"!==r||"all"===r,i=(o?"g":"")+(n.sticky?"y":"")||"noGY";return n[f]=n[f]||{},a=n[f][i]||(n[f][i]=C(n,{addG:!!o,removeG:"one"===r,isInternalOnly:!0})),t=g.match.call(L(e),a),n.global&&(n.lastIndex="one"===r&&t?t.index+t[0].length:0),o?t||[]:t&&t[0]},O.matchChain=function(e,s){return function e(n,r){var t=s[r].regex?s[r]:{regex:s[r]},a=[];function o(e){if(t.backref){if(!(e.hasOwnProperty(t.backref)||+t.backref<e.length))throw new ReferenceError("Backreference to undefined group: "+t.backref);a.push(e[t.backref]||"")}else a.push(e[0])}for(var i=0;i<n.length;++i)O.forEach(n[i],t.regex,o);return r!==s.length-1&&a.length?e(a,r+1):a}([e],0)},O.replace=function(e,n,r,t){var a,o=O.isRegExp(n),i=n.global&&"one"!==t||"all"===t,s=(i?"g":"")+(n.sticky?"y":"")||"noGY",l=n;return o?(n[f]=n[f]||{},l=n[f][s]||(n[f][s]=C(n,{addG:!!i,removeG:"one"===t,isInternalOnly:!0}))):i&&(l=new RegExp(O.escape(String(n)),"g")),a=u.replace.call(L(e),l,r),o&&n.global&&(n.lastIndex=0),a},O.replaceEach=function(e,n){var r,t;for(r=0;r<n.length;++r)t=n[r],e=O.replace(e,t[0],t[1],t[2]);return e},O.split=function(e,n,r){return u.split.call(L(e),n,r)},O.test=function(e,n,r,t){return!!O.exec(e,n,r,t)},O.uninstall=function(e){e=W(e),t.astral&&e.astral&&G(!1),t.natives&&e.natives&&F(!1)},O.union=function(e,n,r){var a,o,t=(r=r||{}).conjunction||"or",i=0;function s(e,n,r){var t=o[i-a];if(n){if(++i,t)return"(?<"+t+">"}else if(r)return"\\"+(+r+a);return e}if(!_(e,"Array")||!e.length)throw new TypeError("Must provide a nonempty array of patterns to merge");for(var l,u=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,c=[],p=0;p<e.length;++p)l=e[p],O.isRegExp(l)?(a=i,o=l[f]&&l[f].captureNames||[],c.push(g.replace.call(O(l.source).source,u,s))):c.push(O.escape(l));var d="none"===t?"":"|";return O(c.join(d),n)},u.exec=function(e){var n,r,t,a=this.lastIndex,o=g.exec.apply(this,arguments);if(o){if(!s&&1<o.length&&-1<R(o,"")&&(r=C(this,{removeG:!0,isInternalOnly:!0}),g.replace.call(String(e).slice(o.index),r,function(){var e,n=arguments.length;for(e=1;e<n-2;++e)void 0===arguments[e]&&(o[e]=void 0)})),this[f]&&this[f].captureNames)for(t=1;t<o.length;++t)(n=this[f].captureNames[t-1])&&(o[n]=o[t]);this.global&&!o[0].length&&this.lastIndex>o.index&&(this.lastIndex=o.index)}return this.global||(this.lastIndex=a),o},u.test=function(e){return!!u.exec.call(this,e)},u.match=function(e){var n;if(O.isRegExp(e)){if(e.global)return n=g.match.apply(this,arguments),e.lastIndex=0,n}else e=new RegExp(e);return u.exec.call(e,L(this))},u.replace=function(r,t){var e,o,n,a=O.isRegExp(r);return a?(r[f]&&(o=r[f].captureNames),e=r.lastIndex):r+="",n=_(t,"Function")?g.replace.call(String(this),r,function(){var e,n=arguments;if(o)for(n[0]=new String(n[0]),e=0;e<o.length;++e)o[e]&&(n[0][o[e]]=n[e+1]);return a&&r.global&&(r.lastIndex=n[n.length-2]+n[0].length),t.apply(void 0,n)}):g.replace.call(null==this?this:String(this),r,function(){var a=arguments;return g.replace.call(String(t),i,function(e,n,r){var t;if(n){if((t=+n)<=a.length-3)return a[t]||"";if((t=o?R(o,n):-1)<0)throw new SyntaxError("Backreference to undefined group "+e);return a[t+1]||""}if("$"===r)return"$";if("&"===r||0==+r)return a[0];if("`"===r)return a[a.length-1].slice(0,a[a.length-2]);if("'"===r)return a[a.length-1].slice(a[a.length-2]+a[0].length);if(r=+r,!isNaN(r)){if(r>a.length-3)throw new SyntaxError("Backreference to undefined group "+e);return a[r]||""}throw new SyntaxError("Invalid token "+e)})}),a&&(r.global?r.lastIndex=0:r.lastIndex=e),n},u.split=function(e,n){if(!O.isRegExp(e))return g.split.apply(this,arguments);var r,t=String(this),a=[],o=e.lastIndex,i=0;return n=(void 0===n?-1:n)>>>0,O.forEach(t,e,function(e){e.index+e[0].length>i&&(a.push(t.slice(i,e.index)),1<e.length&&e.index<t.length&&Array.prototype.push.apply(a,e.slice(1)),r=e[0].length,i=e.index+r)}),i===t.length?g.test.call(e,"")&&!r||a.push(""):a.push(t.slice(i)),e.lastIndex=o,a.length>n?a.slice(0,n):a},O.addToken(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4}|{[\dA-Fa-f]+})|x(?![\dA-Fa-f]{2}))/,function(e,n){if("B"===e[1]&&n===h)return e[0];throw new SyntaxError("Invalid escape "+e[0])},{scope:"all",leadChar:"\\"}),O.addToken(/\\u{([\dA-Fa-f]+)}/,function(e,n,r){var t=E(e[1]);if(1114111<t)throw new SyntaxError("Invalid Unicode code point "+e[0]);if(t<=65535)return"\\u"+A(T(t));if(m&&-1<r.indexOf("u"))return e[0];throw new SyntaxError("Cannot use Unicode code point above \\u{FFFF} without flag u")},{scope:"all",leadChar:"\\"}),O.addToken(/\[(\^?)\]/,function(e){return e[1]?"[\\s\\S]":"\\b\\B"},{leadChar:"["}),O.addToken(/\(\?#[^)]*\)/,S,{leadChar:"("}),O.addToken(/\s+|#[^\n]*\n?/,S,{flag:"x"}),O.addToken(/\./,function(){return"[\\s\\S]"},{flag:"s",leadChar:"."}),O.addToken(/\\k<([\w$]+)>/,function(e){var n=isNaN(e[1])?R(this.captureNames,e[1])+1:+e[1],r=e.index+e[0].length;if(!n||n>this.captureNames.length)throw new SyntaxError("Backreference to undefined group "+e[0]);return"\\"+n+(r===e.input.length||isNaN(e.input.charAt(r))?"":"(?:)")},{leadChar:"\\"}),O.addToken(/\\(\d+)/,function(e,n){if(!(n===h&&/^[1-9]/.test(e[1])&&+e[1]<=this.captureNames.length)&&"0"!==e[1])throw new SyntaxError("Cannot use octal escape or backreference to undefined group "+e[0]);return e[0]},{scope:"all",leadChar:"\\"}),O.addToken(/\(\?P?<([\w$]+)>/,function(e){if(!isNaN(e[1]))throw new SyntaxError("Cannot use integer as capture name "+e[0]);if("length"===e[1]||"__proto__"===e[1])throw new SyntaxError("Cannot use reserved word as capture name "+e[0]);if(-1<R(this.captureNames,e[1]))throw new SyntaxError("Cannot use same name for multiple groups "+e[0]);return this.captureNames.push(e[1]),this.hasNamedCapture=!0,"("},{leadChar:"("}),O.addToken(/\((?!\?)/,function(e,n,r){return-1<r.indexOf("n")?"(?:":(this.captureNames.push(null),"(")},{optionalFlags:"n",leadChar:"("}),n.exports=O},{}],2:[function(e,n,d){"use strict";!function(){var i;i=void 0!==e?e("xregexp/src/xregexp.js"):this.XRegExp;var s={},l={},r={Alley:"AL",Arcade:"ARC",Avenue:"AVE",Boulevard:"BLV",Bend:"BND",Bypass:"BPS",Brace:"BR",Circuit:"CCT",Chase:"CH",Circle:"CIR",Close:"CL",Common:"CMN",Concourse:"CNC",Corner:"CNR",Circus:"CRC",Crescent:"CRS",Crossing:"CSG",Corso:"CSO",Court:"CT",Centre:"CTR",Cove:"CVE",Causeway:"CWY",Drive:"DR",Driveway:"DRY",Entrance:"ENT",Esplanade:"ESP",Expressway:"EXP",Fairway:"FAY",Frontage:"FR",Freeway:"FWY",Garden:"GDN",Glade:"GL",Glen:"GLN",Grange:"GRA",Ground:"GRD",Green:"GRN",Gate:"GTE",Grove:"GVE",Heights:"HTS",Highway:"HWY",Junction:"JN",Key:"KEY",Lane:"LA",Link:"LK",Loop:"LP",Mall:"ML",Mount:"MT",Mews:"MW",Motorway:"MWY",Nook:"NK",Outlook:"OUT",Parade:"PDE",Place:"PL",Plaza:"PLZ",Point:"PNT",Promenade:"PRM",Pass:"PSS",Path:"PT",Parkway:"PWY",Quadrant:"QD",Quadrangle:"QDG",Quay:"QY",Road:"RD",Ridge:"RDG",Roadway:"RDY",Reserve:"RES",Rise:"RI",Round:"RN",Row:"ROW",Rest:"RST",Retreat:"RT",Route:"RTE","Right of Way":"RTW",Siding:"SDG",Square:"SQ",Street:"ST",STS:"ST",Streets:"STS",Terrace:"TCE",Track:"TR",Trail:"TRL",Tollway:"TWY",View:"VW",Way:"WAY",Walk:"WK",Walkway:"WKY",Wynd:"WND"},t={"New South Wales":"NSW","Northern Territory\t":"NT",Queensland:"QLD","South Australia":"SA",Tasmania:"TAS",Victoria:"VIC","Western Australia":"WA"},a=!1,u={type:r,type1:r,type2:r,state:t};function c(e){return Object.keys(e)}function o(n){var r=[];return c(n).forEach(function(e){r.push(n[e])}),r}function p(){if(!a){var e;a=!0,(l={type:(e=r,c(e).concat(o(e))).sort().filter(function(e,n,r){return r.indexOf(e)===n}).join("|"),fraction:"\\d+\\/\\d+",state:"\\b(?:"+c(t).concat(o(t)).map(i.escape).join("|")+")\\b",postcode:"(?<postcode>\\d{4})[- ]?(?<plus4>\\d{4})?",corner:"(?:\\band\\b|\\bat\\b|&|\\@)",streetNameNumber:"(?<streetNumber>\\d+-?\\d*)(?=\\D)"}).streetName="                                       \n      (?:                                                       \n        (?:(?<streetName_0>"+l.direct+")\\W+               \n           (?<streetType_0>"+l.type+")\\b                    \n        )                                                       \n        |                                                       \n        (?:(?<prefix_0>"+l.direct+")\\W+)?               \n        (?:                                                     \n          (?<streetName_1>[^,]*\\d)                                 \n          (?:[^\\w,]*(?<suffix_1>"+l.direct+")\\b)     \n          |                                                     \n          (?<streetName_2>[^,]+)                                    \n          (?:[^\\w,]+(?<streetType_2>"+l.type+")\\b)         \n          (?:[^\\w,]+(?<suffix_2>"+l.direct+")\\b)?    \n          |                                                     \n          (?<street_3>[^,]+?)                                   \n          (?:[^\\w,]+(?<streetType_3>"+l.type+")\\b)?        \n          (?:[^\\w,]+(?<suffix_3>"+l.direct+")\\b)?    \n        )                                                       \n      )",l.unitType_numbered="             \n      (?<unitType_1>su?i?te                      \n        |p\\W*[om]\\W*b(?:ox)?                        \n        |(?:ap|dep)(?:ar)?t(?:me?nt)?                 \n        |ro*m                                         \n        |flo*r?                                       \n        |uni?t                                        \n        |bu?i?ldi?n?g                                 \n        |ha?nga?r                                     \n        |lo?t                                         \n        |pier                                         \n        |slip                                         \n        |spa?ce?                                      \n        |stop                                         \n        |tra?i?le?r                                   \n        |PO box                                   \n        |P.O. box)(?![a-z]                                 \n      )                                               \n      ",l.unitType_unnumbered="           \n      (?<unitType_2>ba?se?me?n?t                 \n        |fro?nt                                       \n        |lo?bby                                       \n        |lowe?r                                       \n        |off?i?ce?                                    \n        |pe?n?t?ho?u?s?e?                             \n        |rear                                         \n        |side                                         \n        |uppe?r                                       \n      )\\b",l.sec_unit="                               \n      (?:                               #fix3             \n        (?:                             #fix1             \n          (?:                                             \n            (?:"+l.unitType_numbered+"\\W*) \n            |(?<unitType_3>\\#)\\W*                  \n          )                                               \n          (?<unitNumber_1>[\\w-]+)                      \n        )                                                 \n        |                                                 \n        "+l.unitType_unnumbered+"           \n      )",l.suburb_and_state="                       \n      (?:                                               \n        (?<suburb>[^\\d,]+?)\\W+                          \n        (?<state>"+l.state+")                  \n      )                                                 \n      ",l.place="                                \n      (?:"+l.suburb_and_state+"\\W*)?            \n      (?:"+l.postcode+")?                           \n      ",l.address=i("                      \n      ^                                                 \n      [^\\w\\#]*                                        \n      ("+l.streetNameNumber+")\\W*                       \n      (?:"+l.fraction+"\\W*)?                  \n         "+l.streetName+"\\W+                      \n      (?:"+l.sec_unit+")?\\W*          #fix2   \n         "+l.place+"                           \n      \\W*$","ix");var n="(?:\\W+|$)";l.informal_address=i("                   \n      ^                                                       \n      \\s*                                                    \n      (?:"+l.sec_unit+n+")?                        \n      (?:"+l.streetNameNumber+")?\\W*                          \n      (?:"+l.fraction+"\\W*)?                        \n         "+l.streetName+n+"                            \n      (?:"+l.sec_unit.replace(/_\d/g,"$&1")+n+")?  \n      (?:"+l.place+")?                               \n      ","ix"),l.intersection=i("                     \n      ^\\W*                                                 \n      "+l.streetName.replace(/_\d/g,"1$&")+"\\W*?      \n      \\s+"+l.corner+"\\s+                         \n      "+l.streetName.replace(/_\d/g,"2$&")+"\\W+     \n      "+l.place+"\\W*$","ix")}}s.normalize_address=function(r){if(p(),!r)return null;var n,t,a={};if(Object.keys(r).forEach(function(e){if(-1===["input","index"].indexOf(e)&&!isFinite(e)){var n=isFinite(e.split("_").pop())?e.split("_").slice(0,-1).join("_"):e;r[e]&&(a[n]=r[e].trim().replace(/^\s+|\s+$|[^\w\s\-#&]/g,""))}}),t=function(e,n){a[n]&&e[a[n].toLowerCase()]&&(a[n]=e[a[n].toLowerCase()])},c(n=u).forEach(function(e){t(n[e],e)}),["type","type1","type2"].forEach(function(e){e in a&&(a[e]=a[e].charAt(0).toUpperCase()+a[e].slice(1).toLowerCase())}),void 0!==a.unitType&&"pobox"==a.unitType.replace(/\s/g,"").toLowerCase()){r.input=r.input.replace(/\./g,"");var e="street"+r.input.replace(a.unitType,"").replace(a.unitNumber,""),o=s.parseLocation(e);return delete o.streetNumber,delete o.street,o.propertyName=a.unitType+" "+a.unitNumber,o}return void 0===a.streetName1&&void 0===a.streetName2&&void 0===a.streetType1&&void 0===a.streetType2||(void 0===a.streetType1&&void 0!==a.streetType2&&(a.streetType1=a.streetType2,void 0===a.streetName1&&void 0!==a.street1&&(a.streetName1=a.street1,delete a.street1)),a.streetName1=a.streetName1.replace(/^(Crn|Cnr of|Cnr|Corner)/g,""),a.streetName=a.streetName1+" "+a.streetType1+" & "+a.streetName2+" "+a.streetType2),a.suburb&&(a.suburb=function(e){for(var n=e.toLowerCase().split(" "),r=0;r<n.length;r++)n[r]=n[r].charAt(0).toUpperCase()+n[r].substring(1);return n.join(" ")}(a.suburb),a.suburb=i.replace(a.suburb,i("^(?<dircode>"+l.dircode+")\\s+(?=\\S)","ix"),function(e){return((n=(void 0)[e.dircode.toUpperCase()])&&n[0].toUpperCase()+n.slice(1))+" ";var n})),Object.keys(a).forEach(function(e){a[e]=a[e].trim()}),a},s.parseAddress=function(e){p();var n=i.exec(e,l.address);return s.normalize_address(n)},s.parseInformalAddress=function(e){p();var n=i.exec(e,l.informal_address);return s.normalize_address(n)},s.parseLocation=function(e){return e=function(e){if(!isNaN(e.substr(0,e.indexOf(" "))[0])){e.match(/\d+([a-zA-Z]?)/)[0];var n=e.match(/\d+([a-zA-Z]?)/)[1];""!=n&&(e="unit "+n+" "+e.substr(e.indexOf(" ")+1))}return e.replace(/\s*\([^)]*\)/g,"").replace(/\s-\s/g,"-")}(e),p(),i(l.corner,"xi").test(e)?s.parseIntersection(e):s.parseAddress(e)||s.parseInformalAddress(e)},s.parseIntersection=function(e){p();var n=i.exec(e,l.intersection);return n=s.normalize_address(n)},void 0!==d?(d.parseIntersection=s.parseIntersection,d.parseLocation=s.parseLocation,d.parseInformalAddress=s.parseInformalAddress,d.parseAddress=s.parseAddress):this.addressParser=this.addressParser||s}()},{"xregexp/src/xregexp.js":1}]},{},[2])(2)});
